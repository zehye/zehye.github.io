---
layout: post
title: POP(Protocol Oriented Programming)프로토콜 지향 프로그래밍이란?
category: iOS
tags: [iOS]
comments: true
---

> 개인공부 후 자료를 남기기 위한 목적임으로 내용 상에 오류가 있을 수 있습니다.     

<hr>

## POP(Protocol Oriented Programming)프로토콜 지향 프로그래밍

애플은 2015년 9월, 스위프트 버전 2.0을 발표하면서 지난 수십년간 사용된 개발 패턴이었던 객체지향 프로그래밍(OOP)가 아닌 프로토콜 지향 언어라고 발표했다고 한다. 이는 쉽게 말하자면 Class를 통한 OOP가 Struct와 Protocol을 통한 POP로 바뀌고 있다는 것을 의미한다. OOP의 핵심은 상속이다. 스위프트에서의 클래스 또한 상속이 가능하지만, 구조체나 열거형의 경우 상속이 불가능하다는 특징이 있다. 그렇기때문에 이전에는 스위프트 코드 대부분의 데이터 구조는 클래스를 통해 작성되었다. 그러나 스위프트에서 클래스와 같은 참조 타입은 단일 원본이 여기저기 참조되기 때문에 그리 권유되는 방법은 아니다. >> [iOS의 멀티쓰레드 참고](https://www.zehye.kr/ios/2020/04/02/12iOS_ios_swift_multithread/) 해당 블로그에서도 정리했듯이 클래스를 통해 기능적으로 하나의 원본을 여러군데에서 사용해야하는 경우도 있지만, 멀티쓰레드 환경에서는 한 원본을 두고 여러작업이 동시에 진행되게 되면 원본 데이터가 꼬일 가능성이 크기때문에 하나의 원본으로 작업해야할 필요가 없다면 가급적으로 값 타입인 구조체나 열거형을 사용하는 것을 권장한다.

그러다보니 현재 스위프트의 표준 라이브러리에서 타입과 관련된 것을 살펴보면 대부분이 구조체로 구현되어 있다. 그렇다면 상속도 되지 않는 구조체가 어떻게 다양한 공통 기능을 가질 수 있는 것일까?


### Protocol Extension

[참고할 블로그 - 프로토콜이란?](https://www.zehye.kr/swift/2020/01/16/16swift_grammer20/)

프로토콜은 이전에 정리했듯이 특정 역할을 수행하기 위한 메서드, 프로퍼티, 기타 요구사항등의 청사진이라고 할 수 있다. 예로들어 우리가 테이블뷰를 사용하려면 UITableViewDelegate 프로토콜을 채택하게 되는데, 해당 프로토콜을 채택하게 되면 우리가 필수적으로 구현해야하는 메서드가 존재한다. 즉, 우리가 프로토콜을 **채택** 한다면 반드시 프로토콜이 요구하는 기능을 구현하여 프로토콜을 반드시 **준수** 해야한다.

익스텐션은 기존 타입의 기능을 확장하는 것을 의미하는데, 한번 생각해보도록 하자.

만약 특정 프로토콜을 정의하고 여러 타입에서 프로토콜을 준수하게 만들어 타입마다 똑같은 메서드, 똑같은 프로퍼티, 똑같은 서브스크립트등을 구현해야한다고 생각해보자. 정말 많은 중독코드들이 발생하게 될 것이며, 더 나아가 유지,보수에 있어 큰 어려움을 겪게 될 것이다. 따라서 이때 필요한 것이 익스텐션과 프로토콜의 결합이다.


### 프로토콜 초기구현

프로토콜을 채택한 타입의 정의부에 프로토콜의 요구사항을 구현하지 않더라고 프로토콜의 익스텐션에 미리 프로토콜의 요구사항을 구현하는 것을 의미한다.
